# Assignment 2.14 — Prisma ORM Setup & Client Initialisation

**Assignment name:** Prisma ORM Setup & Client Initialisation  
**Concept:** Brain 2.14  
**Deliverables:** Prisma installed/initialised, models defined, client generated, connection verified, README updated.

---

## Git / Bash commands (for later reference)

### Branch and PR workflow
```bash
# Create feature branch for this assignment
git checkout -b feature/prisma-orm-setup

# Stage Prisma-related and docs
git add prisma/ src/lib/prisma.ts src/lib/users.ts src/app/api/ package.json README.md assignments/

# Commit
git commit -m "feat: Prisma ORM setup and client initialisation - Assignment 2.14"

# Push and open PR
git push -u origin feature/prisma-orm-setup
# Create PR: feature/prisma-orm-setup -> main
```

### Project commands used for this assignment
```bash
# Install Prisma (if starting fresh)
npm install prisma --save-dev
npm install @prisma/client
npx prisma init

# Generate client (after schema change)
npm run db:generate
# or
npx prisma generate

# Test connection: start app and hit API
npm run dev
# Then open: http://localhost:3000/api/users
```

### Verify database connection
```bash
# Ensure DB is running (e.g. Docker)
docker compose up -d db

# Migrate and seed (if not done)
npx prisma migrate dev --name init_schema
npm run db:seed

# Run app and test
npm run dev
# GET http://localhost:3000/api/users → expect JSON with users and "Database connection successful"
```

---

## Files added/updated (for PR description)

| Path | Description |
|------|-------------|
| `prisma/schema.prisma` | Datasource, generator, models (from 2.13; reused for 2.14) |
| `src/lib/prisma.ts` | Prisma client singleton (single instance, dev log options) |
| `src/lib/users.ts` | `getUsers()` test query to verify connection |
| `src/app/api/users/route.ts` | GET /api/users — returns users from DB; verifies connection |
| `README.md` | Prisma ORM Setup & Client Initialisation section |
| `assignments/2.14-prisma-orm-setup.md` | This file — assignment + git commands |

---

## Quick reference: which PR / which commands

| Assignment / PR | Main commands |
|----------------|----------------|
| **2.12 Docker & Compose** | `docker compose pull`, `docker compose up --build`, `docker ps` |
| **2.13 PostgreSQL Schema Design** | `npm run db:generate`, `npx prisma migrate dev --name init_schema`, `npm run db:seed`, `npm run db:studio` |
| **2.14 Prisma ORM Setup** | `npm run db:generate`, `npm run dev`, open `http://localhost:3000/api/users` to verify connection |
